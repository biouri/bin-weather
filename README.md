# BIN-Weather

Description: CLI for getting weather

## Git

1. –ò–Ω–∏—Ü–∏–∞–ª–∏–∑–∞—Ü–∏—è —Ä–µ–ø–æ–∑–∏—Ç–æ—Ä–∏—è Git –≤ –ø—Ä–æ–µ–∫—Ç–µ.
2. –î–æ–±–∞–≤–ª–µ–Ω–∏–µ –∏–∑–º–µ–Ω–µ–Ω–∏–π –∏ –≤—ã–ø–æ–ª–Ω–µ–Ω–∏–µ –ø–µ—Ä–≤–æ–≥–æ –∫–æ–º–º–∏—Ç–∞.
3. –ü–µ—Ä–µ–∏–º–µ–Ω–æ–≤–∞–Ω–∏–µ –æ—Å–Ω–æ–≤–Ω–æ–π –≤–µ—Ç–∫–∏ –≤ main.
4. –ü–æ–¥–∫–ª—é—á–µ–Ω–∏–µ –≤–Ω–µ—à–Ω–µ–≥–æ —Ä–µ–ø–æ–∑–∏—Ç–æ—Ä–∏—è origin.
5. –û—Ç–ø—Ä–∞–≤–∏—Ç—å –≤–æ –≤–Ω–µ—à–Ω–∏–π —Ä–µ–ø–æ–∑–∏—Ç–æ—Ä–∏–π origin –≤–µ—Ç–∫—É main.

```bash
git init
git add .
git commit -m "Create NodeJS BIN-Weather Project with README.md + package.json"
git branch -M main
git remote add origin https://github.com/biouri/bin-weather.git
git push -u origin main
```

```bash
git commit -m "Configure package.json + Parsing command line arguments: args.js"
git commit -m "Add Log Service + Console Output + chalk + dedent-js"
```

## –ü—Ä–∏–ª–æ–∂–µ–Ω–∏–µ BIN-Weather

1. –ü—Ä–∏–ª–æ–∂–µ–Ω–∏–µ –Ω–∞ Node.js.

- –£—Å—Ç–∞–Ω–æ–≤–∫–∞ –∫–∞–∫ –≥–ª–æ–±–∞–ª—å–Ω—ã–π npm-–ø–∞–∫–µ—Ç.
- –û–±—â–∏–π –≤–∏–¥ –ø—Ä–∏–ª–æ–∂–µ–Ω–∏—è —Å –ø–∞—Ä–∞–º–µ—Ç—Ä–∞–º–∏ –∑–∞–ø—É—Å–∫–∞.

2. –§—É–Ω–∫—Ü–∏–æ–Ω–∞–ª –ø—Ä–∏–ª–æ–∂–µ–Ω–∏—è

- –í–æ–∑–º–æ–∂–Ω–æ—Å—Ç—å –∑–∞–ø—É—Å–∫–∞ –±–µ–∑ –ø–∞—Ä–∞–º–µ—Ç—Ä–æ–≤ –¥–ª—è –ø–æ–ª—É—á–µ–Ω–∏—è –ø–æ–≥–æ–¥—ã.

–ö–æ–º–∞–Ω–¥—ã –¥–ª—è –Ω–∞—Å—Ç—Ä–æ–π–∫–∏:

- `–ë–µ–∑ –ø–∞—Ä–∞–º–µ—Ç—Ä–æ–≤`: –≤—ã–≤–æ–¥ —Ç–µ–∫—É—â–µ–π –ø–æ–≥–æ–¥—ã.
- `--help`: –∏–Ω—Ñ–æ—Ä–º–∞—Ü–∏—è –∏ –ø–æ–¥—Å–∫–∞–∑–∫–∏ –ø–æ –∫–æ–º–∞–Ω–¥–∞–º.
- `-s <–≥–æ—Ä–æ–¥>`: –≤—ã–±–æ—Ä –∏ –≤–∞–ª–∏–¥–∞—Ü–∏—è –≥–æ—Ä–æ–¥–∞.
- `-t <—Ç–æ–∫–µ–Ω>`: —Ç–æ–∫–µ–Ω –¥–ª—è API –ø–æ–≥–æ–¥—ã.

3. –ö–ª—é—á–µ–≤—ã–µ –∫–æ–º–ø–æ–Ω–µ–Ω—Ç—ã –ø—Ä–∏–ª–æ–∂–µ–Ω–∏—è

- –ü–æ–ª—É—á–µ–Ω–∏–µ –∞—Ä–≥—É–º–µ–Ω—Ç–æ–≤: –æ–±—Ä–∞–±–æ—Ç–∫–∞ –∫–æ–º–∞–Ω–¥ –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—è.
- –†–∞–±–æ—Ç–∞ —Å —Ñ–∞–π–ª–æ–≤–æ–π —Å–∏—Å—Ç–µ–º–æ–π: —Å–æ—Ö—Ä–∞–Ω–µ–Ω–∏–µ –Ω–∞—Å—Ç—Ä–æ–µ–∫ –∏ —Ç–æ–∫–µ–Ω–∞.
- –ò–Ω—Ç–µ–≥—Ä–∞—Ü–∏—è —Å –≤–Ω–µ—à–Ω–∏–º API (`OpenWeather`) –¥–ª—è –ø–æ–ª—É—á–µ–Ω–∏—è –¥–∞–Ω–Ω—ã—Ö –æ –ø–æ–≥–æ–¥–µ.
- –°—Ç–∏–ª–∏–∑–∞—Ü–∏—è –≤—ã–≤–æ–¥–∞ –≤ –∫–æ–Ω—Å–æ–ª—å: –≤–∏–∑—É–∞–ª—å–Ω–æ–µ –æ—Ñ–æ—Ä–º–ª–µ–Ω–∏–µ –∏–Ω—Ñ–æ—Ä–º–∞—Ü–∏–∏.
- –ò—Å–ø–æ–ª—å–∑–æ–≤–∞–Ω–∏–µ –±–∏–±–ª–∏–æ—Ç–µ–∫–∏ OS –∏–∑ —Å—Ç–∞–Ω–¥–∞—Ä—Ç–∞ `Node.js`.

4. –ò–Ω—Ç–µ–≥—Ä–∞—Ü–∏—è —Å API `OpenWeather`

https://openweathermap.org/

- –ë–µ—Å–ø–ª–∞—Ç–Ω—ã–π —Ç–∞—Ä–∏—Ñ: –¥–æ 60 –∑–∞–ø—Ä–æ—Å–æ–≤ –≤ –º–∏–Ω—É—Ç—É –∏ 1 –º–∏–ª–ª–∏–æ–Ω –∑–∞–ø—Ä–æ—Å–æ–≤ –≤ –º–µ—Å—è—Ü.
- –í–æ–∑–º–æ–∂–Ω–æ—Å—Ç–∏ –º–∞—Å—à—Ç–∞–±–∏—Ä–æ–≤–∞–Ω–∏—è –ø—Ä–∏–ª–æ–∂–µ–Ω–∏—è.

## –ê—Ä–≥—É–º–µ–Ω—Ç—ã –∫–æ–º–∞–Ω–¥–Ω–æ–π —Å—Ç—Ä–æ–∫–∏

–û—Å–Ω–æ–≤–Ω–æ–π —Ñ–∞–π–ª - `weather.js`.
–û–±–Ω–æ–≤–∏–º `package.json` –¥–ª—è —É–∫–∞–∑–∞–Ω–∏—è —Ç–æ—á–∫–∏ –≤—Ö–æ–¥–∞ –∏ –Ω–∞—Å—Ç—Ä–æ–π–∫–∏ –±–∏–Ω–∞—Ä–Ω–æ–≥–æ –≤—ã–∑–æ–≤–∞.

### –ù–∞—Å—Ç—Ä–æ–π–∫–∞ `package.json`:

1. –£–∫–∞–∑—ã–≤–∞–µ–º `main` —Ñ–∞–π–ª: `weather.js` (–∫–∞–∫ —Ç–æ—á–∫–∞ –≤—Ö–æ–¥–∞ –ø—Ä–∏–ª–æ–∂–µ–Ω–∏—è).
2. –ù–∞—Å—Ç—Ä–æ–∏–º –±–∏–Ω–∞—Ä–Ω–∏–∫:

- –ù–∞–∑–≤–∞–Ω–∏–µ: `weather`.
- –§–∞–π–ª: `weather.js`.

```json
...
  "main": "weather.js",
  "bin": {
    "weather": "weather.js"
  },
  "type": "module",
...
```

–¢–∞–∫–∞—è –Ω–∞—Å—Ç—Ä–æ–π–∫–∞ bin-—Å–µ–∫—Ü–∏–∏ –æ–∑–Ω–∞—á–∞–µ—Ç, —á—Ç–æ –ø—Ä–∏ —É—Å—Ç–∞–Ω–æ–≤–∫–µ –ø—Ä–∏–ª–æ–∂–µ–Ω–∏—è –≥–ª–æ–±–∞–ª—å–Ω–æ –±—É–¥–µ—Ç –∞–∫—Ç–∏–≤–Ω–∞ –∫–æ–º–∞–Ω–¥–∞ `weather` –ø–æ –∫–æ—Ç–æ—Ä–æ–π –∑–∞–ø—É—Å—Ç–∏—Ç—Å—è `weather.js` (–≤ —ç—Ç–æ–º —Å–ª—É—á–∞–µ –Ω—É–∂–Ω–æ –¥–æ–±–∞–≤–∏—Ç—å –≤ –Ω–∞—á–∞–ª–µ —Ñ–∞–π–ª–∞ `weather.js` —Å—Ç—Ä–æ–∫—É `#! /usr/bin/env node`). –ú–æ–∂–Ω–æ —Ç–∞–∫–∂–µ —É–∫–∞–∑–∞—Ç—å `"weather": "node weather.js"`. –í–º–µ—Å—Ç–æ `common.js` –º–æ–¥—É–ª–µ–π –±—É–¥–µ–º –∏—Å–ø–æ–ª—å–∑–æ–≤–∞—Ç—å –∏–º–ø–æ—Ä—Ç ES6 –º–æ–¥—É–ª–µ–π, –¥–ª—è —ç—Ç–æ–≥–æ –¥–æ–±–∞–≤–ª—è–µ–º –≤ –∫–æ–Ω—Ñ–∏–≥—É—Ä–∞—Ü–∏—é: `"type": "module"`, –±–µ–∑ —ç—Ç–æ–π —Å—Ç—Ä–æ–∫–∏ –Ω–µ–æ–±—Ö–æ–¥–∏–º–æ –Ω–∞–∑—ã–≤–∞—Ç—å —Ñ–∞–π–ª—ã-–º–æ–¥—É–ª–∏ —Å —Ä–∞—Å—à–∏—Ä–µ–Ω–∏–µ–º `*.mjs`.

### –ö–æ–Ω—Ñ–∏–≥—É—Ä–∞—Ü–∏—è –∑–∞–ø—É—Å–∫–∞ —Ñ–∞–π–ª–∞:

–î–æ–±–∞–≤–ª—è–µ–º –≤ –Ω–∞—á–∞–ª–µ —Ñ–∞–π–ª–∞ `weather.js` —Å—Ç—Ä–æ–∫—É `#! /usr/bin/env node` –¥–ª—è —É–∫–∞–∑–∞–Ω–∏—è –æ–∫—Ä—É–∂–µ–Ω–∏—è –≤—ã–ø–æ–ª–Ω–µ–Ω–∏—è.

### –†–∞–∑—Ä–∞–±–æ—Ç–∫–∞ `weather.js`:

1. –ò–Ω–∏—Ü–∏–∞–ª–∏–∑–∞—Ü–∏—è –ø—Ä–∏–ª–æ–∂–µ–Ω–∏—è
2. –í—ã–≤–æ–¥ —Å—Ç–∞—Ä—Ç–æ–≤–æ–≥–æ —Å–æ–æ–±—â–µ–Ω–∏—è –≤ –∫–æ–Ω—Å–æ–ª—å.

```javascript
// –§—É–Ω–∫—Ü–∏—è, –∫–æ—Ç–æ—Ä—É—é –±—É–¥–µ–º –≤—ã–∑—ã–≤–∞—Ç—å –≤ —Ä–∞–º–∫–∞—Ö –∑–∞–ø—É—Å–∫–∞ CLI
const initCLI = () => {
  // process - –≥–ª–æ–±–∞–ª—å–Ω–∞—è –ø–µ—Ä–µ–º–µ–Ω–Ω–∞—è —Å –∏–Ω—Ñ–æ—Ä–º–∞—Ü–∏–µ–π –æ –ø—Ä–æ—Ü–µ—Å—Å–µ
  // process. –ø—Ä–æ—Å–º–æ—Ç—Ä –¥–æ—Å—Ç—É–ø–Ω—ã—Ö –º–µ—Ç–æ–¥–æ–≤ –∏ –ø–µ—Ä–µ–º–µ–Ω–Ω—ã—Ö
  console.log(process.argv);
  const args = getArgs(process.argv);
  console.log(args);
  // –í—ã–≤–µ—Å—Ç–∏ –ø–æ–≥–æ–¥—É
  console.log("Weather APP");
};

initCLI();
```

3. –†–∞–∑–±–æ—Ä –∞—Ä–≥—É–º–µ–Ω—Ç–æ–≤ –∫–æ–º–∞–Ω–¥–Ω–æ–π —Å—Ç—Ä–æ–∫–∏ —Å –∏—Å–ø–æ–ª—å–∑–æ–≤–∞–Ω–∏–µ–º `process.argv`.

- –ê—Ä–≥—É–º–µ–Ω—Ç—ã –ø–µ—Ä–µ–¥–∞—é—Ç—Å—è –≤ –≤–∏–¥–µ –º–∞—Å—Å–∏–≤–∞.
  –ù–∞–ø—Ä–∏–º–µ—Ä, –ø–µ—Ä–≤—ã–π –∞—Ä–≥—É–º–µ–Ω—Ç: —á–µ–º –≤—ã–ø–æ–ª–Ω—è–µ—Ç—Å—è, –≤—Ç–æ—Ä–æ–π –∞—Ä–≥—É–º–µ–Ω—Ç: —Ç–æ—á–∫–∞ –≤—Ö–æ–¥–∞.

```bash
node weather.js -h -s Moscow -t AB4434553450982340598
```

```text
[
  'C:\\Program Files\\nodejs\\node.exe',
  'D:\\Projects\\node_abc\\bin-weather\\weather.js',
  '-h',
  '-s',
  'Moscow',
  '-t',
  'AB4434553450982340598'
]
```

- –û–±—Ä–∞–±–æ—Ç–∫–∞ –∏ –≤—ã–≤–æ–¥ –¥–æ–ø–æ–ª–Ω–∏—Ç–µ–ª—å–Ω—ã—Ö –∞—Ä–≥—É–º–µ–Ω—Ç–æ–≤.

### –†–µ–∞–ª–∏–∑–∞—Ü–∏—è —Ä–∞–∑–±–æ—Ä–∞ –∞—Ä–≥—É–º–µ–Ω—Ç–æ–≤:

- –¶–µ–ª—å: —É–ø—Ä–æ—Å—Ç–∏—Ç—å –∞—Ä–≥—É–º–µ–Ω—Ç—ã –≤ –æ–±—ä–µ–∫—Ç –¥–ª—è –ª–µ–≥–∫–æ–π —Ä–∞–±–æ—Ç—ã.
- –°–æ–∑–¥–∞–Ω–∏–µ —Ö–µ–ª–ø–µ—Ä–∞ –≤ –ø–∞–ø–∫–µ `helpers` –¥–ª—è —Ä–∞–∑–±–æ—Ä–∞ –∞—Ä–≥—É–º–µ–Ω—Ç–æ–≤ (`args.js`).

```javascript
const getArgs = (args) => {
  const res = {};
  // –ò–≥–Ω–æ—Ä–∏—Ä–æ–≤–∞—Ç—å –ø–µ—Ä–≤—ã–µ –¥–≤–∞ –∞—Ä–≥—É–º–µ–Ω—Ç–∞
  // –ò—Å–ø–æ–ª—å–∑—É–µ—Ç—Å—è rest —Å–∏–Ω—Ç–∞–∫—Å–∏—Å –¥–ª—è –º–∞—Å—Å–∏–≤–æ–≤
  // rest —ç—Ç–æ –º–∞—Å—Å–∏–≤ –±–µ–∑ –ø–µ—Ä–≤—ã—Ö 2-—Ö –∞—Ä–≥—É–º–µ–Ω—Ç–æ–≤
  const [executer, file, ...rest] = args;
  rest.forEach((value, index, array) => {
    if (value.charAt(0) == "-") {
      if (index == array.length - 1) {
        // –≠—Ç–æ –ø–æ—Å–ª–µ–¥–Ω–∏–π —ç–ª–µ–º–µ–Ω—Ç, true = –∑–Ω–∞—á–∏—Ç –º—ã –µ–≥–æ –Ω–∞—à–ª–∏
        res[value.substring(1)] = true;
      } else if (array[index + 1].charAt(0) != "-") {
        // –ó–Ω–∞—á–µ–Ω–∏–µ —ç–ª–µ–º–µ–Ω—Ç–∞ –±–µ—Ä–µ–º –∏–∑ —Å–ª–µ–¥—É—é—â–µ–≥–æ —ç–ª–µ–º–µ–Ω—Ç–∞
        res[value.substring(1)] = array[index + 1];
      } else {
        // –≠—Ç–æ —ç–ª–µ–º–µ–Ω—Ç –∑–∞ –∫–æ—Ç–æ—Ä—ã–º –µ—Å—Ç—å –ø–∞—Ä–∞–º–µ—Ç—Ä —Å –¥–µ—Ñ–∏—Å–æ–º -
        res[value.substring(1)] = true;
      }
    }
  });
  return res;
};

export { getArgs };
```

### –†–∞–∑–±–æ—Ä –∞—Ä–≥—É–º–µ–Ω—Ç–æ–≤ –∫–æ–º–∞–Ω–¥–Ω–æ–π —Å—Ç—Ä–æ–∫–∏:

1. –ü—Ä–æ–ø—É—Å–∫–∞–µ–º –ø–µ—Ä–≤—ã–µ –¥–≤–∞ –∞—Ä–≥—É–º–µ–Ω—Ç–∞ –º–∞—Å—Å–∏–≤–∞ (–∏—Å–ø–æ–ª–Ω—è–µ–º—ã–π —Ñ–∞–π–ª –∏ —Ñ–∞–π–ª —Å–∫—Ä–∏–ø—Ç–∞).
2. –û–±—Ä–∞–±–∞—Ç—ã–≤–∞–µ–º –æ—Å—Ç–∞–ª—å–Ω—ã–µ –∞—Ä–≥—É–º–µ–Ω—Ç—ã:

- –û–ø—Ä–µ–¥–µ–ª–µ–Ω–∏–µ –∫–ª—é—á–µ–π –∏ –∑–Ω–∞—á–µ–Ω–∏–π.
- –û–±—Ä–∞–±–æ—Ç–∫–∞ –∫–ª—é—á–µ–π —Å `-`.
- –ü—Ä–∏—Å–≤–æ–µ–Ω–∏–µ `true` –¥–ª—è –æ–¥–∏–Ω–æ—á–Ω—ã—Ö —Ñ–ª–∞–≥–æ–≤.

`weather.js`

```javascript
#!/usr/bin/env node
import { getArgs } from "./helpers/args.js";

// –§—É–Ω–∫—Ü–∏—è, –∫–æ—Ç–æ—Ä—É—é –±—É–¥–µ–º –≤—ã–∑—ã–≤–∞—Ç—å –≤ —Ä–∞–º–∫–∞—Ö –∑–∞–ø—É—Å–∫–∞ CLI
const initCLI = () => {
  // process - –≥–ª–æ–±–∞–ª—å–Ω–∞—è –ø–µ—Ä–µ–º–µ–Ω–Ω–∞—è —Å –∏–Ω—Ñ–æ—Ä–º–∞—Ü–∏–µ–π –æ –ø—Ä–æ—Ü–µ—Å—Å–µ
  // process. –ø—Ä–æ—Å–º–æ—Ç—Ä –¥–æ—Å—Ç—É–ø–Ω—ã—Ö –º–µ—Ç–æ–¥–æ–≤ –∏ –ø–µ—Ä–µ–º–µ–Ω–Ω—ã—Ö
  console.log(process.argv);
  const args = getArgs(process.argv);
  console.log(args);
  if (args.h) {
    // –í—ã–≤–æ–¥ help
  }
  if (args.s) {
    // –°–æ—Ö—Ä–∞–Ω–∏—Ç—å –≥–æ—Ä–æ–¥
  }
  if (args.t) {
    // –°–æ—Ö—Ä–∞–Ω–∏—Ç—å —Ç–æ–∫–µ–Ω
  }
  // –í—ã–≤–µ—Å—Ç–∏ –ø–æ–≥–æ–¥—É
  console.log("Weather APP");
};

initCLI();
```

### –ò—Ç–æ–≥–∏ —Ä–∞–∑–±–æ—Ä–∞:

```shell
node weather.js -h -s Moscow -t AB4434553450982340598
```

```text
{ h: true, s: 'Moscow', t: 'AB4434553450982340598' }
```

- –ü–æ–ª—É—á–∞–µ–º –æ–±—ä–µ–∫—Ç —Å –∞—Ä–≥—É–º–µ–Ω—Ç–∞–º–∏ –¥–ª—è —É–¥–æ–±–Ω–æ–π —Ä–∞–±–æ—Ç—ã.
- –ú–æ–∂–Ω–æ –∏—Å–ø–æ–ª—å–∑–æ–≤–∞—Ç—å –¥–ª—è –≤—ã–ø–æ–ª–Ω–µ–Ω–∏—è —Å–æ–æ—Ç–≤–µ—Ç—Å—Ç–≤—É—é—â–∏—Ö –∫–æ–º–∞–Ω–¥ –≤ –ø—Ä–∏–ª–æ–∂–µ–Ω–∏–∏ (–Ω–∞–ø—Ä–∏–º–µ—Ä, –≤—ã–≤–æ–¥ –ø–æ–º–æ—â–∏, —Å–æ—Ö—Ä–∞–Ω–µ–Ω–∏–µ –≥–æ—Ä–æ–¥–∞, —Ç–æ–∫–µ–Ω–∞).
- –ë—ã–ª–∞ —Ä–µ–∞–ª–∏–∑–æ–≤–∞–Ω–∞ –ø—Ä–æ—Å—Ç–∞—è —Å–∏—Å—Ç–µ–º–∞ —Ä–∞–∑–±–æ—Ä–∞ –∞—Ä–≥—É–º–µ–Ω—Ç–æ–≤ CLI –±–µ–∑ –∏—Å–ø–æ–ª—å–∑–æ–≤–∞–Ω–∏—è —Å—Ç–æ—Ä–æ–Ω–Ω–∏—Ö –±–∏–±–ª–∏–æ—Ç–µ–∫.
- –î–ª—è –ø—Ä–æ–¥–≤–∏–Ω—É—Ç–æ–π —Ä–∞–±–æ—Ç—ã —Å –∞—Ä–≥—É–º–µ–Ω—Ç–∞–º–∏ —Ä–µ–∫–æ–º–µ–Ω–¥—É–µ—Ç—Å—è –∏—Å–ø–æ–ª—å–∑–æ–≤–∞—Ç—å –≥–æ—Ç–æ–≤—ã–µ —Ä–µ—à–µ–Ω–∏—è, –Ω–∞–ø—Ä–∏–º–µ—Ä, –±–∏–±–ª–∏–æ—Ç–µ–∫—É `yargs`.

## –í—ã–≤–æ–¥ –≤ –∫–æ–Ω—Å–æ–ª—å

## –°–æ–∑–¥–∞–Ω–∏–µ log-—Å–µ—Ä–≤–∏—Å–∞

–¶–µ–ª—å: —Å–æ–∑–¥–∞—Ç—å –æ—Ç–¥–µ–ª—å–Ω—ã–π —Å–µ—Ä–≤–∏—Å –¥–ª—è —Å—Ç–∏–ª–∏–∑–æ–≤–∞–Ω–Ω–æ–≥–æ –≤—ã–≤–æ–¥–∞ –≤ –∫–æ–Ω—Å–æ–ª—å.

1. –°–æ–∑–¥–∞—Ç—å –ø–∞–ø–∫—É `services`.
2. –í –ø–∞–ø–∫–µ —Å–æ–∑–¥–∞—Ç—å —Ñ–∞–π–ª `log-service.js`.

### –†–µ–∞–ª–∏–∑–∞—Ü–∏—è –º–µ—Ç–æ–¥–æ–≤ –≤—ã–≤–æ–¥–∞

–ú–µ—Ç–æ–¥—ã:

1. `printError(text)`: –≤—ã–≤–æ–¥–∏—Ç —Å–æ–æ–±—â–µ–Ω–∏–µ –æ–± –æ—à–∏–±–∫–µ.
2. `printSuccess(message)`: –≤—ã–≤–æ–¥–∏—Ç —É—Å–ø–µ—à–Ω–æ–µ —Å–æ–æ–±—â–µ–Ω–∏–µ.
3. `printHelp()`: –≤—ã–≤–æ–¥–∏—Ç —Å–ø—Ä–∞–≤–∫—É –ø–æ –∫–æ–º–∞–Ω–¥–∞–º.

### –ò—Å–ø–æ–ª—å–∑–æ–≤–∞–Ω–∏–µ –±–∏–±–ª–∏–æ—Ç–µ–∫–∏ Chalk:

1. –£—Å—Ç–∞–Ω–æ–≤–∫–∞: `npm install chalk`.
2. –ü–æ–∑–≤–æ–ª—è–µ—Ç —Å—Ç–∏–ª–∏–∑–æ–≤–∞—Ç—å —Ç–µ–∫—Å—Ç –≤ –∫–æ–Ω—Å–æ–ª–∏ (—Ü–≤–µ—Ç–∞, —Ñ–æ–Ω).
3. –ü—Ä–∏–º–µ—Ä—ã: `bg-red` –¥–ª—è –æ—à–∏–±–æ–∫, `bg-green` –¥–ª—è —É—Å–ø–µ—Ö–∞, `bg-cyan` –¥–ª—è —Å–ø—Ä–∞–≤–∫–∏.

`package.json`

```
  "dependencies": {
    "axios": "^1.8.4",
    "chalk": "^5.4.1"
  }
```

### –ü—Ä–æ–±–ª–µ–º—ã –∏ —Ä–µ—à–µ–Ω–∏—è

1. `Common.js` vs `ES –º–æ–¥—É–ª–∏`: `Chalk v4.x` —è–≤–ª—è–µ—Ç—Å—è –±–∏–±–ª–∏–æ—Ç–µ–∫–æ–π `Common.js`, –≤ —ç—Ç–æ–º —Å–ª—É—á–∞–µ –∏–º–ø–æ—Ä—Ç –¥–æ–ª–∂–µ–Ω –±—ã—Ç—å –≤—ã–ø–æ–ª–Ω–µ–Ω —Å–æ–æ—Ç–≤–µ—Ç—Å—Ç–≤—É—é—â–∏–º –æ–±—Ä–∞–∑–æ–º.
2. –û—Ç—Å—Ç—É–ø—ã –≤ –º–Ω–æ–≥–æ—Å—Ç—Ä–æ—á–Ω—ã—Ö —Å—Ç—Ä–æ–∫–∞—Ö: –î–ª—è —É—Å—Ç—Ä–∞–Ω–µ–Ω–∏—è –Ω–µ–∂–µ–ª–∞—Ç–µ–ª—å–Ω—ã—Ö –æ—Ç—Å—Ç—É–ø–æ–≤ –∏—Å–ø–æ–ª—å–∑—É–µ—Ç—Å—è –±–∏–±–ª–∏–æ—Ç–µ–∫–∞ `dedent-js`.

- –£—Å—Ç–∞–Ω–æ–≤–∫–∞: `npm install dedent-js`.
- –ü—Ä–∏–º–µ–Ω–µ–Ω–∏–µ: –æ–±–æ—Ä–∞—á–∏–≤–∞–Ω–∏–µ —Å—Ç—Ä–æ–∫–∏ —Ñ—É–Ω–∫—Ü–∏–µ–π –¥–ª—è —É–¥–∞–ª–µ–Ω–∏—è –æ—Ç—Å—Ç—É–ø–æ–≤.

`services\log-service.js`

```javascript
// –î–æ –ø—è—Ç–æ–π –≤–µ—Ä—Å–∏–∏ –±–∏–±–ª–∏–æ—Ç–µ–∫–∏ chalk –∏—Å–ø–æ–ª—å–∑–æ–≤–∞–ª—Å—è CommonJS –∏–º–ø–æ—Ä—Ç
// const chalk = require('chalk');
// ES6 –∏–º–ø–æ—Ä—Ç –¥–ª—è chalk > v.5.0.0 (CommonJS –±–æ–ª—å—à–µ –Ω–µ –∏—Å–ø–æ–ª—å–∑—É–µ—Ç—Å—è)
import chalk from "chalk";
import dedent from "dedent-js";

// –ú–µ—Ç–æ–¥—ã –¥–ª—è –≤—ã–≤–æ–¥–∞ –≤ –∫–æ–Ω—Å–æ–ª—å

// –í—ã–≤–æ–¥ –≤ –∫–æ–Ω—Å–æ–ª—å —Å–æ–æ–±—â–µ–Ω–∏—è –æ–± –æ—à–∏–±–∫–µ
const printError = (error) => {
  console.log(chalk.bgRed(" ERROR ") + " " + error);
};

// –°—Ç–∞–Ω–¥–∞—Ä—Ç–Ω—ã–π –≤—ã–≤–æ–¥ —Å–æ–æ–±—â–µ–Ω–∏—è
const printSuccess = (message) => {
  console.log(chalk.bgGreen(" SUCCESS ") + " " + message);
};

// –ü–æ–¥—Å–∫–∞–∑–∫–∞
const printHelp = () => {
  // –ò—Å–ø–æ–ª—å–∑—É–µ—Ç—Å—è –∫—Ä–∞—Ç–∫–∞—è –∑–∞–ø–∏—Å—å –ø–µ—Ä–µ–¥–∞—á–∏ —Å—Ç—Ä–æ–∫–∏ –≤ —Ñ—É–∫–Ω—Ü–∏—é dedent()
  // dedent`...` –º–æ–∂–Ω–æ –ø—Ä–∏–º–µ–Ω—è—Ç—å —á—Ç–æ–±—ã —É–±—Ä–∞—Ç—å –ª–∏—à–Ω–∏–µ –æ—Ç—Å—Ç—É–ø—ã
  console.log(
    dedent`${chalk.bgCyan(" HELP ")}
		–ë–µ–∑ –ø–∞—Ä–∞–º–µ—Ç—Ä–æ–≤ - –≤—ã–≤–æ–¥ –ø–æ–≥–æ–¥—ã
		-s [CITY] –¥–ª—è —É—Å—Ç–∞–Ω–æ–≤–∫–∏ –≥–æ—Ä–æ–¥–∞
		-h –¥–ª—è –≤—ã–≤–æ–¥–∞ –ø–æ–º–æ—â–∏
		-t [API_KEY] –¥–ª—è —Å–æ—Ö—Ä–∞–Ω–µ–Ω–∏—è —Ç–æ–∫–µ–Ω–∞
		`
  );
};

export { printError, printSuccess, printHelp };
```

`bin-weather\weather.js`

```javascript
import { printHelp } from './services/log-service.js';
...
	if (args.h) {
		// –í—ã–≤–æ–¥ help
		printHelp();
	}
```

–ë–∏–±–ª–∏–æ—Ç–µ–∫–∞ `Chalk v5.0.0` –±—ã–ª–∞ –æ—Ñ–∏—Ü–∏–∞–ª—å–Ω–æ –≤—ã–ø—É—â–µ–Ω–∞ 18 –∏—é–Ω—è 2022 –≥–æ–¥–∞.

### –û—Å–Ω–æ–≤–Ω—ã–µ –∏–∑–º–µ–Ω–µ–Ω–∏—è –≤ Chalk 5:

- –ü–æ–ª–Ω—ã–π –æ—Ç–∫–∞–∑ –æ—Ç CommonJS: `require('chalk')` –±–æ–ª—å—à–µ –Ω–µ —Ä–∞–±–æ—Ç–∞–µ—Ç.
- Chalk 5 —Å—Ç–∞–ª —Ç–æ–ª—å–∫–æ ESM (ES Modules).
- –£–ª—É—á—à–µ–Ω–∏—è –ø—Ä–æ–∏–∑–≤–æ–¥–∏—Ç–µ–ª—å–Ω–æ—Å—Ç–∏ –∏ —Ç–∏–ø–∏–∑–∞—Ü–∏–∏ (–æ—Å–æ–±–µ–Ω–Ω–æ –¥–ª—è TypeScript).
- –ß–∏—Å—Ç—ã–π –º–∏–Ω–∏–º–∞–ª–∏–∑–º: —É–¥–∞–ª–µ–Ω–æ –≤—Å—ë –ª–∏—à–Ω–µ–µ, —É–ø–æ—Ä —Ç–æ–ª—å–∫–æ –Ω–∞ ESM –∏ core-—Ñ—É–Ω–∫—Ü–∏–∏.

‚úÖ –ü–æ–¥–¥–µ—Ä–∂–∫–∞ `import`:
–ò—Å–ø–æ–ª—å–∑—É–µ—Ç—Å—è —Å–æ–≤—Ä–µ–º–µ–Ω–Ω—ã–π —Å–∏–Ω—Ç–∞–∫—Å–∏—Å:

```javascript
import chalk from "chalk";
```

### –ß—Ç–æ –¥–µ–ª–∞—Ç—å, –µ—Å–ª–∏ –∏—Å–ø–æ–ª—å–∑—É–µ—Ç—Å—è CommonJS?

–ù–µ–æ–±—Ö–æ–¥–∏–º–æ –∏—Å–ø–æ–ª—å–∑–æ–≤–∞—Ç—å `Chalk v4.x`, –Ω–∞–ø—Ä–∏–º–µ—Ä:

```bash
npm install chalk@4
```

–¢–æ–≥–¥–∞ –º–æ–∂–Ω–æ –∏—Å–ø–æ–ª—å–∑–æ–≤–∞—Ç—å:

```js
const chalk = require("chalk");
console.log(chalk.green("CommonJS still works in v4!"));
```

‚úÖ –ü—Ä–∞–≤–∏–ª—å–Ω—ã–π —Å–ø–æ—Å–æ–± –∏—Å–ø–æ–ª—å–∑–æ–≤–∞—Ç—å `Chalk 5`:
Chalk –∏—Å–ø–æ–ª—å–∑—É–µ—Ç —Ü–µ–ø–æ—á–∫–∏ —Å—Ç–∏–ª–µ–π. –í–º–µ—Å—Ç–æ –ø—Ä—è–º—ã—Ö –∏–º–ø–æ—Ä—Ç–æ–≤ –Ω—É–∂–Ω–æ –∏—Å–ø–æ–ª—å–∑–æ–≤–∞—Ç—å –º–µ—Ç–æ–¥—ã –æ–±—ä–µ–∫—Ç–∞ chalk.

```js
import chalk from "chalk";
console.log(chalk.bgCyan("–§–æ–Ω Cyan"));
```

‚ùå –ù–µ–ø—Ä–∞–≤–∏–ª—å–Ω—ã–π —Å–ø–æ—Å–æ–± –∏—Å–ø–æ–ª—å–∑–æ–≤–∞—Ç—å `Chalk 5`:

```js
// ‚ùå –ù–µ–ø—Ä–∞–≤–∏–ª—å–Ω–æ: bgCyan –Ω–µ —ç–∫—Å–ø–æ—Ä—Ç–∏—Ä—É–µ—Ç—Å—è –∫–∞–∫ –æ—Ç–¥–µ–ª—å–Ω—ã–π –º–æ–¥—É–ª—å
import chalk, { bgCyan } from "chalk";
```

–ü–æ—á–µ–º—É bgCyan –Ω–µ–ª—å–∑—è –∏–º–ø–æ—Ä—Ç–∏—Ä–æ–≤–∞—Ç—å –≤ —Ñ–∏–≥—É—Ä–Ω—ã—Ö —Å–∫–æ–±–∫–∞—Ö?
–ü–æ—Ç–æ–º—É —á—Ç–æ Chalk –Ω–µ —ç–∫—Å–ø–æ—Ä—Ç–∏—Ä—É–µ—Ç bgCyan –∫–∞–∫ –æ—Ç–¥–µ–ª—å–Ω—ã–π —ç–ª–µ–º–µ–Ω—Ç. –í–µ—Å—å API Chalk —Ä–µ–∞–ª–∏–∑–æ–≤–∞–Ω –∫–∞–∫ –æ–¥–∏–Ω –æ–±—ä–µ–∫—Ç, —ç–∫—Å–ø–æ—Ä—Ç–∏—Ä–æ–≤–∞–Ω–Ω—ã–π –ø–æ —É–º–æ–ª—á–∞–Ω–∏—é:

```javascript
// –ü—Å–µ–≤–¥–æ–∫–æ–¥ –≤–Ω—É—Ç—Ä–µ–Ω–Ω–æ—Å—Ç–µ–π chalk:
export default {
  bgCyan: function() { ... },
  red: function() { ... },
  bold: { ... },
  // –∏ —Ç.–¥.
}
```

–¢.–µ. bgCyan ‚Äî —ç—Ç–æ —Å–≤–æ–π—Å—Ç–≤–æ –æ–±—ä–µ–∫—Ç–∞, –∞ –Ω–µ –æ—Ç–¥–µ–ª—å–Ω—ã–π —ç–∫—Å–ø–æ—Ä—Ç, –ø–æ—ç—Ç–æ–º—É –≤–æ–∑–Ω–∏–∫–∞–µ—Ç –æ—à–∏–±–∫–∞:

```javascript
SyntaxError: The requested module 'chalk' does not provide an export named 'bgCyan'
```

### –ü—Ä–∏–º–µ—Ä—ã –∏—Å–ø–æ–ª—å–∑–æ–≤–∞–Ω–∏—è `Chalk 5`

```javascript
import chalk from "chalk";

console.log(chalk.green("–ó–µ–ª—ë–Ω—ã–π —Ç–µ–∫—Å—Ç"));
console.log(chalk.red.bold("–ñ–∏—Ä–Ω—ã–π –∫—Ä–∞—Å–Ω—ã–π"));
console.log(chalk.blue.italic("–°–∏–Ω–∏–π –∫—É—Ä—Å–∏–≤"));
console.log(chalk.bgYellow.black("–ß—ë—Ä–Ω—ã–π —Ç–µ–∫—Å—Ç –Ω–∞ –∂—ë–ª—Ç–æ–º —Ñ–æ–Ω–µ"));

// üü¢ –¶–≤–µ—Ç–∞ —Ç–µ–∫—Å—Ç–∞
chalk.red("–û—à–∏–±–∫–∞");
chalk.green("–£—Å–ø–µ—à–Ω–æ");
chalk.blue("–ò–Ω—Ñ–æ—Ä–º–∞—Ü–∏—è");
chalk.yellow("–ü—Ä–µ–¥—É–ø—Ä–µ–∂–¥–µ–Ω–∏–µ");
chalk.cyan("–õ–æ–≥");
chalk.white("–û–±—ã—á–Ω—ã–π —Ç–µ–∫—Å—Ç");
chalk.gray("–ó–∞–º–µ—Ç–∫–∞");

// üé® –¶–≤–µ—Ç–∞ —Ñ–æ–Ω–∞
chalk.bgRed("–§–æ–Ω –∫—Ä–∞—Å–Ω—ã–π");
chalk.bgGreen("–§–æ–Ω –∑–µ–ª—ë–Ω—ã–π");
chalk.bgBlue("–§–æ–Ω —Å–∏–Ω–∏–π");
chalk.bgYellow("–§–æ–Ω –∂—ë–ª—Ç—ã–π");
chalk.bgCyan("–§–æ–Ω –≥–æ–ª—É–±–æ–π");
chalk.bgWhite("–§–æ–Ω –±–µ–ª—ã–π");

// üíÖ –°—Ç–∏–ª–∏ —Ç–µ–∫—Å—Ç–∞
chalk.bold("–ñ–∏—Ä–Ω—ã–π");
chalk.italic("–ö—É—Ä—Å–∏–≤");
chalk.underline("–ü–æ–¥—á—ë—Ä–∫–Ω—É—Ç—ã–π");
chalk.strikethrough("–ó–∞—á—ë—Ä–∫–Ω—É—Ç—ã–π");

// üîó –ö–æ–º–±–∏–Ω–∏—Ä–æ–≤–∞–Ω–∏–µ
console.log(chalk.bgGreen.black.bold(" –£—Å–ø–µ—à–Ω–æ "));
console.log(chalk.red.underline("–û—à–∏–±–∫–∞!"));
console.log(chalk.yellow.bold.italic("–í–Ω–∏–º–∞–Ω–∏–µ"));

// üß† –ú–Ω–æ–∂–µ—Å—Ç–≤–µ–Ω–Ω—ã–µ —Å—Ç—Ä–æ–∫–∏
// Chalk –º–æ–∂–Ω–æ –ø—Ä–∏–º–µ–Ω—è—Ç—å –∫ –∫–∞–∂–¥–æ–π —Å—Ç—Ä–æ–∫–µ –æ—Ç–¥–µ–ª—å–Ω–æ:
console.log(`
${chalk.green("‚úì")} –í—Å—ë –≥–æ—Ç–æ–≤–æ!
${chalk.yellow("‚ö†")} –û—Å—Ç–æ—Ä–æ–∂–Ω–æ!
${chalk.red("‚úó")} –û—à–∏–±–∫–∞!
`);

// Chalk —Ä–∞–±–æ—Ç–∞–µ—Ç —Å ESM (import chalk from 'chalk')
// Chalk 5 –Ω–µ –ø–æ–¥–¥–µ—Ä–∂–∏–≤–∞–µ—Ç require ‚Äî —Ç–æ–ª—å–∫–æ import
// –ú–æ–∂–Ω–æ –ø—Ä–∏–º–µ–Ω—è—Ç—å —Å—Ç–∏–ª–∏ –∫ –ø–µ—Ä–µ–º–µ–Ω–Ω—ã–º:
const success = chalk.green("–£—Å–ø–µ—à–Ω–æ");
console.log(success);
```
